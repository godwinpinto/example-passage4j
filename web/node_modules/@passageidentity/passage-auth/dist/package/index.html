<!DOCTYPE html>
<html lang="">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title>
      Passage Local
    </title>
  </head>
  <style>
    body {
      background: #E5E5E5;
    }

    .container{
      background: white;
      box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
      border-radius: 20px;
      width: 280px;
      margin: auto;
    }
  </style>

  <body>
    <noscript>
      <strong>We're sorry but Passage Local doesn't work properly without JavaScript enabled.
          Please enable it to continue.</strong>
    </noscript>
    <div class="container">
      <passage-auth app-id="passage"></passage-auth>
    </div>
    <script src="index.umd.js"></script>
    <script>

        const onSuccess = (data) => {
            console.log("WE ARE PRINTING FROM onSuccess() in index.html")
            console.log(data)
        }
        const beforeAuth = (data) =>{
          console.log('beforeAuth is hit')
          console.log(data)
          return true
        }
        var passageAuth = document.querySelector("passage-auth")

        // Enable this to see an example when onSuccess is set
        // passageAuth.onSuccess = onSuccess
        passageAuth.beforeAuth = beforeAuth

        const PassageUser = window.Passage.PassageUser
        new PassageUser().userInfo().then(value=> console.log(value))

    </script>
    <!-- built files will be auto injected -->
  </body>

</html>
